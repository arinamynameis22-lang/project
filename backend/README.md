# Система управления продажами автомобилей

## Описание проекта
Веб-приложение для управления продажами автомобилей в автосалоне. Система позволяет:
- Управлять каталогом автомобилей (добавление, редактирование, удаление)
- Вести учет клиентов
- Оформлять продажи автомобилей
- Загружать изображения автомобилей и документы
- Генерировать отчеты о продажах

## Технологии
- **FastAPI** - современный веб-фреймворк для создания API
- **SQLAlchemy** - ORM для работы с базой данных
- **PostgreSQL** - основная СУБД (рекомендуется)
- **Pydantic** - валидация данных и настройки
- **Alembic** - управление миграциями базы данных

## Установка и запуск

### 1. Клонирование репозитория
bash
git clone <repository-url>
cd car_sales_management

### 2. Создание виртуального окружения
bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate  # Windows

### 3. Установка зависимостей
bash
pip install -r requirements.txt


### 4. Настройка окружения
Создайте файл .env на основе .env.example:
bash
cp .env.example .env


Отредактируйте .env файл, указав свои настройки.

### 5. Инициализация базы данных
bash
# Примените миграции
alembic upgrade head

# Или создайте базу через скрипт
python scripts/init_db.py

### 6. Запуск приложения
bash
# Разработка с автоматической перезагрузкой
uvicorn app.main:app --reload

# Продакшен
uvicorn app.main:app --host 0.0.0.0 --port 8000


### 7. Документация API

После запуска сервера доступна автоматическая документация:

· **Swagger UI**: http://localhost:8000/docs
· **ReDoc**: http://localhost:8000/redoc

Основные функции API

Автомобили

· **GET /api/v1/cars/** - список автомобилей
· **GET /api/v1/cars/{id}** - информация об автомобиле
· **POST /api/v1/cars/** - добавление автомобиля
· **PUT /api/v1/cars/{id}** - обновление информации
· **DELETE /api/v1/cars/{id}** - удаление автомобиля

Клиенты

· **GET /api/v1/customers/** - список клиентов
· **POST /api/v1/customers/** - регистрация клиента

Продажи

· **GET /api/v1/sales/** - список продаж
· **POST /api/v1/sales/** - оформление продажи
· **GET /api/v1/sales/report** - отчет по продажам

Загрузка файлов

· **POST /api/v1/upload/car-image/{car_id}** - загрузка изображения автомобиля

Структура базы данных

Основные сущности:

1. Car - автомобиль (марка, модель, год, цена, VIN, статус и т.д.)
2. Customer - клиент (ФИО, контакты, паспортные данные)
3. Sale - продажа (автомобиль, клиент, дата, сумма, менеджер)

Разработка

### Создание миграций
bash
alembic revision --autogenerate -m "Описание изменений"
alembic upgrade head

# Запуск тестов
bash
pytest tests/


**Лицензия**

**MIT**